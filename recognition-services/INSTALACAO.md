# üöÄ GUIA DE INSTALA√á√ÉO R√ÅPIDA - WEBCAM

## ‚ö° Setup R√°pido (5 minutos)

### 1. Instalar Python (se n√£o tiver)

- Download: https://www.python.org/downloads/
- ‚úÖ Marcar "Add Python to PATH" durante instala√ß√£o

### 2. Instalar depend√™ncias

```bash
cd recognition-services
pip install -r requirements.txt
```

**‚è±Ô∏è Isso pode demorar uns 5-10 minutos** (face_recognition √© pesado)

### 3. Configurar

```bash
copy .env.example .env
```

Edite `.env` e configure:

```env
API_BASE=http://localhost:3001
WEBCAM_INDEX=0
CLASSROOM_CODE=3AT.I
SHOW_VIDEO=true
```

### 4. Executar

**Op√ß√£o 1 - Script pronto (Windows):**

```bash
start-webcam.bat
```

**Op√ß√£o 2 - Comando direto:**

```bash
python reco_webcam_service.py
```

## ‚úÖ Pr√©-requisitos

Antes de rodar o reconhecimento facial:

1. ‚úÖ **Backend rodando**

   ```bash
   cd backend
   npm run dev
   ```

2. ‚úÖ **Frontend rodando** (opcional, para cadastrar alunos)

   ```bash
   npm run dev
   ```

3. ‚úÖ **Alunos cadastrados com fotos**
   - Entre no sistema como admin
   - Cadastre alunos em "Administra√ß√£o"
   - Certifique-se que as fotos s√£o boas (rosto frontal, boa ilumina√ß√£o)

## üéØ Fluxo completo

```
1. Abrir terminal ‚Üí cd backend ‚Üí npm run dev
2. Abrir novo terminal ‚Üí cd recognition-services
3. python reco_webcam_service.py
4. Olhar para a webcam
5. Sistema detecta e registra presen√ßa automaticamente
```

## üêõ Problemas comuns

### "ModuleNotFoundError: No module named 'cv2'"

```bash
pip install opencv-python
```

### "face_recognition n√£o instala"

**Windows:** Instale Visual C++ Build Tools

- Download: https://visualstudio.microsoft.com/visual-cpp-build-tools/
- Instale "Desktop development with C++"
- Depois: `pip install face_recognition`

**Alternativa:** Use dlib pr√©-compilado

```bash
pip install dlib-binary
pip install face_recognition
```

### "Webcam n√£o abre"

1. Feche Chrome, Zoom, Teams (podem estar usando a c√¢mera)
2. Tente mudar `WEBCAM_INDEX=1` no `.env`
3. Teste a c√¢mera em outro app antes

### "Backend n√£o responde"

```bash
cd backend
npm install
npm run dev
```

Verifique se est√° rodando em `http://localhost:3001`

## üìä Testando

**Ver se backend est√° ok:**

```
Abra navegador: http://localhost:3001/api/known-faces
```

Deve retornar JSON com lista de alunos.

**Ver se webcam funciona:**

```python
import cv2
cap = cv2.VideoCapture(0)
print("Webcam OK" if cap.isOpened() else "Erro")
cap.release()
```

## üéì Dicas para melhor reconhecimento

1. **Ilumina√ß√£o:** Ambiente bem iluminado
2. **Posi√ß√£o:** Rostos frontais, olhando para c√¢mera
3. **Dist√¢ncia:** 50cm a 1m da c√¢mera
4. **Fotos cadastradas:** Devem ser similares √†s condi√ß√µes de uso
5. **√ìculos/m√°scara:** Evitar na foto E no uso (ou usar em ambos)

## üìù Comandos √∫teis

**Instalar tudo de uma vez:**

```bash
pip install opencv-python face_recognition pillow requests python-dotenv numpy
```

**Atualizar depend√™ncias:**

```bash
pip install --upgrade -r requirements.txt
```

**Ver vers√µes instaladas:**

```bash
pip list
```

**Desinstalar (se precisar):**

```bash
pip uninstall opencv-python face_recognition pillow requests python-dotenv numpy
```

## üî• Se nada funcionar

**Reset completo:**

```bash
# 1. Desinstalar tudo
pip uninstall -y opencv-python face_recognition pillow requests python-dotenv numpy dlib

# 2. Reinstalar um por um
pip install numpy
pip install opencv-python
pip install pillow
pip install requests
pip install python-dotenv
pip install face_recognition

# 3. Testar
python reco_webcam_service.py
```

## üìû Suporte

- **Erro na API:** Verifique backend
- **Erro na webcam:** Verifique hardware/drivers
- **Erro no Python:** Reinstale depend√™ncias
- **Reconhecimento ruim:** Ajuste MATCH_TOLERANCE no .env
